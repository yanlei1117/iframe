<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.asiainfo.dbx.ln.component.service.DimData">
    <!--
    <resultMap id="BaseResultMap" type="com.asiainfo.dbx.ln.component.service.DimData">
        <id column="id" jdbcType="VARCHAR" property="id" />
        <result column="label" jdbcType="VARCHAR" property="label" />
        <result column="parent_id" jdbcType="VARCHAR" property="parentId" />
        <result column="status" jdbcType="VARCHAR" property="status" />
        <result column="spell" jdbcType="VARCHAR" property="spell" />
    </resultMap>

    <select id="selectById" parameterType="map" resultMap="BaseResultMap">
        select * from ${dimSql} where id=#{id}
    </select>
    <select id="selectByParentId" parameterType="map" resultMap="BaseResultMap">
        select * from ${dimSql} where parent_id=#{parentId}
    </select>

    <select id="selectByParentSpell" parameterType="map" resultMap="BaseResultMap">
        select * from ${dimSql} where parent_id=#{parentId}
    </select>


    <select id="selectDistinctNameCount" resultType="java.lang.Integer">
        select count(distinct name) from person
    </select>
    <select id="selectToCount"  resultType="java.lang.Integer">
        select count(*) from person
    </select>
    <select id="selectAll" resultMap="BaseResultMap">
        select * from person

    </select>

    <select id="selectByArrayParam" parameterType="map"    resultMap="BaseResultMap">
        select * from person where name =#{array[0],jdbcType=VARCHAR} and birthday=#{array[1],jdbcType=DATE}
    </select>
    <select id="selectByListParam" parameterType="map" resultMap="BaseResultMap">
        select * from person where name =#{list[0],jdbcType=VARCHAR} and birthday=#{list[1],jdbcType=DATE}

    </select>
    <select id="selectByMapParam" parameterType="map" resultMap="BaseResultMap">
        select * from person where name =#{param1,jdbcType=VARCHAR} and birthday=#{param2,jdbcType=DATE}

    </select>

    <select id="selectById"  resultMap="BaseResultMap">
        select * from person where id=#{id,jdbcType=VARCHAR}

    </select>
    <delete id="deleteAll" >
        delete from person
    </delete>


    <delete id="deletePersonById" parameterType="java.lang.String">
        delete from person where id=#{id,jdbcType=VARCHAR}
    </delete>

    <insert id="insertPerson" parameterType="com.asiainfo.dbx.ln.component.dao.mybatis.model.Person">
        insert into person (id, name, identity_number,
        sex, birthday, stature)
        values (#{id,jdbcType=VARCHAR}, #{name,jdbcType=VARCHAR}, #{identityNumber,jdbcType=INTEGER},
        #{sex,jdbcType=CHAR}, #{birthday,jdbcType=DATE}, #{stature,jdbcType=REAL})
    </insert>
    <update id="updatePerson" parameterType="com.asiainfo.dbx.ln.component.dao.mybatis.model.Person">
        update
        person
        set     name = #{name,jdbcType=VARCHAR},
        identity_number = #{identityNumber,jdbcType=INTEGER},
        sex = #{sex,jdbcType=CHAR},
        birthday = #{birthday,jdbcType=DATE},
        stature = #{stature,jdbcType=REAL}
        where
        id = #{id,jdbcType=VARCHAR}
    </update>
    -->
</mapper>